!function(){"use strict";class t{}t.swapArray=(t,e,n)=>(t[e]=t.splice(n,1,t[e])[0],t),t.zIndexUp=(e,n)=>{0!=n&&t.swapArray(e,n,n-1)},t.zIndexDown=(e,n)=>{n+1!=e.length&&t.swapArray(e,n,n+1)},t.zIndexTop=(e,n)=>{if(0!=n)for(var r=n-0,o=0;o<r;o++)t.swapArray(e,n,n-1),n--},t.zIndexBottom=(e,n)=>{if(n+1!=e.length)for(var r=e.length-1-n,o=0;o<r;o++)t.swapArray(e,n,n+1),n++},t.diff=(t,e)=>t.filter((t=>-1===e.indexOf(t)));class e{}e._keyStr="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",e.encode=t=>{let n,r,o,s,i,a,l,c="",d=0;for(t=e._utf8_encode(t);d<t.length;)n=t.charCodeAt(d++),r=t.charCodeAt(d++),o=t.charCodeAt(d++),s=n>>2,i=(3&n)<<4|r>>4,a=(15&r)<<2|o>>6,l=63&o,isNaN(r)?a=l=64:isNaN(o)&&(l=64),c=c+e._keyStr.charAt(s)+e._keyStr.charAt(i)+e._keyStr.charAt(a)+e._keyStr.charAt(l);return c},e.decode=t=>{let n,r,o,s,i,a,l,c="",d=0;for(t=t.replace(/[^A-Za-z0-9\+\/\=]/g,"");d<t.length;)s=e._keyStr.indexOf(t.charAt(d++)),i=e._keyStr.indexOf(t.charAt(d++)),a=e._keyStr.indexOf(t.charAt(d++)),l=e._keyStr.indexOf(t.charAt(d++)),n=s<<2|i>>4,r=(15&i)<<4|a>>2,o=(3&a)<<6|l,c+=String.fromCharCode(n),64!=a&&(c+=String.fromCharCode(r)),64!=l&&(c+=String.fromCharCode(o));return c=e._utf8_decode(c),c},e._utf8_encode=t=>{t=t.replace(/\r\n/g,"\n");let e="";for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);r<128?e+=String.fromCharCode(r):r>127&&r<2048?(e+=String.fromCharCode(r>>6|192),e+=String.fromCharCode(63&r|128)):(e+=String.fromCharCode(r>>12|224),e+=String.fromCharCode(r>>6&63|128),e+=String.fromCharCode(63&r|128))}return e},e._utf8_decode=t=>{let e="",n=0,r=0,o=0;for(;n<t.length;)if(r=t.charCodeAt(n),r<128)e+=String.fromCharCode(r),n++;else if(r>191&&r<224)o=t.charCodeAt(n+1),e+=String.fromCharCode((31&r)<<6|63&o),n+=2;else{o=t.charCodeAt(n+1);let s=t.charCodeAt(n+2);e+=String.fromCharCode((15&r)<<12|(63&o)<<6|63&s),n+=3}return e};class n{static uint8ArrayToString(t){for(var e="",n=0;n<t.length;n++)e+=String.fromCharCode(t[n]);return e}static stringToUint8Array(t){for(var e=[],n=0;n<t.length;n++)e.push(t.charCodeAt(n));return new Uint8Array(e)}}var r,o;n.byteToString=t=>{if("string"==typeof t)return t;for(var e="",n=t,r=0;r<n.length;r++){var o=n[r].toString(2),s=o.match(/^1+?(?=0)/);if(s&&8==o.length){for(var i=s[0].length,a=n[r].toString(2).slice(7-i),l=1;l<i;l++)a+=n[l+r].toString(2).slice(2);e+=String.fromCharCode(parseInt(a,2)),r+=i-1}else e+=String.fromCharCode(n[r])}return e},n.stringToByte=t=>{var e,n,r=new Array;e=t.length;for(var o=0;o<e;o++)(n=t.charCodeAt(o))>=65536&&n<=1114111?(r.push(n>>18&7|240),r.push(n>>12&63|128),r.push(n>>6&63|128),r.push(63&n|128)):n>=2048&&n<=65535?(r.push(n>>12&15|224),r.push(n>>6&63|128),r.push(63&n|128)):n>=128&&n<=2047?(r.push(n>>6&31|192),r.push(63&n|128)):r.push(255&n);return r};class s{static uuid(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(t){var e=16*Math.random()|0;return("x"==t?e:3&e|8).toString(16)}))}static isNull(t){return Array.isArray(t)?0==t.length:t+""=="null"||t+""=="undefined"||""===t||t+""=="NaN"}static isNumber(t){return/^[0-9]+$/.test(t)}static getParam(t){const e=t.match(/[?&]([^=#]+)=([^&#]*)/g);return e?e.reduce(((t,e)=>{const[n,r]=e.substring(1).split("=");return t[n]=decodeURIComponent(r),t}),{}):{}}static copyText(t){return new Promise((e=>{if(navigator.clipboard)navigator.clipboard.writeText(t).then((()=>{e(!0)})).catch((t=>{e(!1)}));else{const n=document.createElement("textarea");n.value=t,document.body.appendChild(n),n.select(),document.execCommand("copy"),document.body.removeChild(n),e(!0)}}))}}r=s,s.id=1e3,s.getId=()=>(r.id++,r.id+"");class i{}i.id=1e3,i.getId=()=>"_CEvent_"+i.id++,i.map={},i.add=t=>{i.map[t.id]=t},i.remove=(...t)=>{const e=i;t.forEach((t=>{e.map[t]&&(e.map[t].clear(),e.map[t]=null,delete e.map[t])}))};class a{constructor(){this.vm=()=>()=>!0,this.eventMap=new Map,this.id=i.getId(),this.tag="__CEventBean__",this.on=(t,e,n)=>{let r=this;if(!n){const t=r.vm();n=()=>t()}let o=r.tag+i.getId(),s=r.eventMap.get(t);return s||(s=[]),s.push({callback:e,vm:n,uid:o,key:t}),r.eventMap.set(t,s),o},this.once=(t,e,n)=>{let r=this,o="";return o=r.on(t,(t=>{e(t),r.off(o)}),n),o},this.emit=(t,e={},n=!0)=>{let r=this;n?Object.keys(i.map).forEach((n=>{i.map[n].emit(t,e,!1)})):r.eventMap.forEach((n=>{n.forEach((n=>{n.key===t&&(n.vm()?n.callback(e):(r.off(n.uid),i.remove(r.id)))}))}))},this.off=(...t)=>{let e=this;if(2===t.length){const n=t[0],r=t[1];if("function"==typeof r){const t=e.eventMap.get(n);if(t){let o=t.filter((t=>t.callback!==r));0==o.length?e.eventMap.delete(n):e.eventMap.set(n,o)}return}}let n=[],r=[];t.forEach((t=>{-1!==t.indexOf(e.tag)?n.push(t):r.push(t)})),n.length>0&&e.eventMap.forEach(((t,r)=>{let o=t.filter((t=>!n.includes(t.uid)));0==o.length?e.eventMap.delete(r):e.eventMap.set(r,o)})),r.forEach((t=>{e.eventMap.delete(t)}))},this.clear=()=>{this.eventMap=new Map},i.add(this)}}class l{static on(t,e,n){return l.eventbean.on(t,e,n)}static once(t,e,n){return l.eventbean.once(t,e,n)}static emit(t,e={},n=!0){return l.eventbean.emit(t,e,n)}static off(...t){return l.eventbean.off(...t)}static clear(){return l.eventbean.clear()}}l.eventbean=new a;class c{static moveDiv(t,e){const n=(t,e)=>{let n=parseFloat(t.split("px")[0]);return void 0!==e&&(n=parseFloat(n.toFixed(e))),n};t.style.position="absolute",t.style.width=t.offsetWidth+"px",t.style.height=t.offsetHeight+"px",t.style.left=t.offsetLeft+"px",t.style.top=t.offsetTop+"px";const r={start:!1,x:0,y:0};t.onmousedown=e=>{if(0===e.button){if("none"===t.style.pointerEvents)return;r.start=!0,r.x=e.x,r.y=e.y,document.onmousemove=e=>{if(r.start){const o=t.getBoundingClientRect().width/t.offsetWidth;let s=e.x-r.x,i=e.y-r.y;s/=o,i/=o;const a=n(t.style.top)+i,l=n(t.style.left)+s;t.style.top=a+"px",t.style.left=l+"px",r.x=e.x,r.y=e.y}}}},t.onmousemove=()=>{t.style.cursor="move"},t.onmouseup=o=>{const s=n(t.style.top,0),i=n(t.style.left,0),a=n(t.style.width,0),l=n(t.style.height,0);t.style.top=s+"px",t.style.left=i+"px",t.style.width=a+"px",t.style.height=l+"px",r.start=!1,r.x=0,r.y=0,document.onmousemove=null,e&&e({left:i,top:s})}}static getScrollbarWidth(){const t=document.createElement("div");t.style.cssText="width: 99px; height: 99px; overflow: scroll; position: absolute; top: -9999px;",document.body.appendChild(t);const e=t.offsetWidth-t.clientWidth;return document.body.removeChild(t),e}}c.listener=(t,e,n)=>{t.addEventListener(e,n);return{remove:()=>t.removeEventListener(e,n)}},c.useTouch=()=>{const t={startX:-1,startY:-1,deltaX:0,deltaY:0,offsetX:0,offsetY:0,direction:""};const e=()=>{t.startX=-1,t.startY=-1,t.deltaX=0,t.deltaY=0,t.offsetX=0,t.offsetY=0,t.direction=""},n=t=>{const e=t;return{x:void 0!==e.clientX?e.clientX:e.touches[0].clientX,y:void 0!==e.clientY?e.clientY:e.touches[0].clientY}};return{move:e=>{const r=n(e);t.deltaX=(r.x<0?0:r.x)-t.startX,t.deltaY=r.y-t.startY,t.offsetX=Math.abs(t.deltaX),t.offsetY=Math.abs(t.deltaY);var o,s;(!t.direction||t.offsetX<10&&t.offsetY<10)&&(t.direction=(o=t.offsetX,s=t.offsetY,o>s?"horizontal":s>o?"vertical":""))},start:r=>{e();const o=n(r);t.startX=o.x,t.startY=o.y},reset:e,isVertical:()=>"vertical"===t.direction,isHorizontal:()=>"horizontal"===t.direction,conf:t}},c.isTextOverflow=t=>{const e=document.createElement("div"),n=window.getComputedStyle(t);if("nowrap"!==n.whiteSpace)return!1;e.style.cssText=n.cssText,e.style.fontSize=n.fontSize,e.style.padding=n.padding,e.style.position="absolute",e.style.visibility="hidden",e.style.whiteSpace="nowrap",e.style.width="auto",e.style.maxWidth="none",e.style.overflow="visible",e.textContent=t.textContent,document.body.appendChild(e);const r=e.offsetWidth>t.offsetWidth;return document.body.removeChild(e),r},c.loadImage=t=>{if(!(t.extensions||[".png",".jpg",".jpeg",".webp",".gif",".svg"]).some((e=>t.url.endsWith(e))))return;let e=new Image;e.crossOrigin="Anonymous",e.src=t.url;let n=!1;return e.onload=function(){var r;if(n)return;n=!0;const o={dataBase64:"",dataArray:null};if(t.base64||t.arrayBuffer){let n=document.createElement("canvas");const r=n.getContext("2d");n.height=e.height,n.width=e.width,r.drawImage(e,0,0,e.width,e.height);const s=t.url.split(".").pop();t.arrayBuffer&&(o.dataArray=r.getImageData(0,0,e.width,e.height)),t.base64&&(o.dataBase64="gif"===s||"svg"===s?n.toDataURL(`image/${s}`):n.toDataURL(`image/${s}`,t.base64Quality)),n=null}null===(r=t.load)||void 0===r||r.call(t,e,o),e=null},e.onerror=function(){var e;n||(n=!0,null===(e=t.error)||void 0===e||e.call(t))},{img:e,abort:()=>{if(!n){n=!0;try{e.src="",e=null}catch(t){}}}}};class d{}o=d,d.arrToHex=t=>{let e="";return t.forEach((t=>e+=(2^t).toString(16)+"u")),e.substring(0,e.length-1)},d.hexToArr=t=>{let e=[];return t.split("u").forEach((t=>{e.push(2^parseInt((t=>{for(var e,n=t.length,r=new Array(n),o=0;o<n;o++)48<=(e=t.charCodeAt(o))&&e<58?e-=48:e=(223&e)-65+10,r[o]=e;return r.reduce((function(t,e){return 16*t+e}),0)})(t)))})),e},d.encode=t=>o.arrToHex(n.stringToByte(t)),d.decode=t=>n.byteToString(o.hexToArr(t));class u{}u.sendMessage=(t,e)=>{var n,r;if(e){const r=document.getElementById(e);null===(n=null==r?void 0:r.contentWindow)||void 0===n||n.postMessage(t,"*")}else null===(r=window.parent)||void 0===r||r.postMessage(t)},u.onMassage=t=>{window.addEventListener("message",t)},u.offMassage=t=>{window.removeEventListener("message",t)};class h{static cp(t){try{return JSON.parse(JSON.stringify(t))}catch(t){return null}}static deepClone(t,e=new WeakMap){let n=t;if(null===n)return n;if(n instanceof Date)return new Date(n);if(n instanceof RegExp)return new RegExp(n);if("object"!=typeof n)return n;if(e.get(n))return e.get(n);try{let t=new n.constructor;e.set(n,t);for(let r in n)n.hasOwnProperty(r)&&(t[r]=this.deepClone(n[r],e));return t}catch(t){return n}}}h.strToObject=t=>{"object"==typeof t&&t&&Object.keys(t).forEach((e=>{const n=t[e];"string"==typeof n&&(n.startsWith("{")&&n.endsWith("}")||n.startsWith("[")&&n.endsWith("]"))&&(t[e]=JSON.parse(n)),h.strToObject(t[e])}))};class p{}function f(t,e=15){return+parseFloat(Number(t).toPrecision(e))}function m(t){const e=t.toString().split(/[eE]/),n=(e[0].split(".")[1]||"").length-+(e[1]||0);return n>0?n:0}function g(t){if(-1===t.toString().indexOf("e"))return Number(t.toString().replace(".",""));const e=m(t);return e>0?f(Number(t)*Math.pow(10,e)):Number(t)}function y(t){return(...e)=>{const[n,...r]=e;return r.reduce(((e,n)=>t(e,n)),n)}}p.groupKey=(t,e)=>{let n={};const r={ctrl:"control",esc:"escape"};t=t.map((t=>(t=t.toLocaleLowerCase(),r[t]&&(t=r[t]),t)));const o=function(r){if(!r.key)return;const o=r.key.toLocaleLowerCase();if(n[o])return;n[o]=!0;const s=t[t.length-1]===o;let i=!0;for(let e=0;e<t.length-1;e++)if(!n[t[e]]){i=!1;break}s&&i&&e()},s=function(t){if(!t.key)return;const e=t.key.toLocaleLowerCase();n[e]=!1};return document.addEventListener("keydown",o),document.addEventListener("keyup",s),()=>{document.removeEventListener("keydown",o),document.removeEventListener("keyup",s)}};const x=y(((t,e)=>{const n=g(t),r=g(e),o=m(t)+m(e);return n*r/Math.pow(10,o)})),v=y(((t,e)=>{const n=Math.pow(10,Math.max(m(t),m(e)));return(x(t,n)+x(e,n))/n})),b=y(((t,e)=>{const n=Math.pow(10,Math.max(m(t),m(e)));return(x(t,n)-x(e,n))/n})),w=y(((t,e)=>{const n=g(t),r=g(e);return x(n/r,f(Math.pow(10,m(e)-m(t))))}));class C{static getNumber(t,e){let n=parseFloat(t);return n=s.isNull(n)?0:n,e?parseFloat(n.toFixed(e)):n}static getRandomInt(t,e){return t=Math.ceil(t),e=Math.floor(e),Math.floor(Math.random()*(e-t+1))+t}}C.strip=f,C.plus=v,C.minus=b,C.times=x,C.divide=w,C.round=function(t,e){const n=Math.pow(10,e);let r=w(Math.round(Math.abs(x(t,n))),n);return t<0&&0!==r&&(r=x(r,-1)),r},C.digitLength=m,C.float2Fixed=g;class S{}S.id=0,S.getId=()=>"_Timer_"+S.id++,S.map={},S.add=(t,e,n,r)=>{const o=S,s=o.getId(),i=n?setInterval:setTimeout,a=n?clearInterval:clearTimeout,l=()=>{o.map[s]&&a(c),o.map[s]=void 0,delete o.map[s]},c=i((()=>{r()?(t(),n||l()):l()}),e);return o.map[s]={fun:t,vm:r,id:s,remove:l},o.map[s]},S.remove=(...t)=>{const e=S;t.forEach((t=>{e.map[t]&&e.map[t].remove()}))},S.removeAll=()=>{const t=S;t.remove(...Object.keys(t.map))};class M{constructor(){this.map={},this.vm=()=>()=>!0,this.createVM=t=>{if(!t){const e=this.vm();t=()=>e()}return t},this.once=(t,e=0,n)=>{const r=S.add(t,e,!1,this.createVM(n));return this.map[r.id]=r,r.id},this.clear=()=>{const t=this,e=Object.keys(t.map);for(let n=0;n<e.length;n++){const r=e[n],o=t.map[r];o&&o.remove(),t.map[r]=void 0,delete t.map[r]}},this.delayUnit=1,this.delay=(t=0,e=this.delayUnit)=>{const n=this;return new Promise((r=>{n.once((()=>r()),t*e)}))},this.on=(t,e,n=!1,r)=>{n&&t();const o=S.add(t,e,!0,this.createVM(r));return this.map[o.id]=o,o.id},this.un=(...t)=>{const e=this;t.forEach((t=>{const n=e.map[t];n&&n.remove(),e.map[t]=void 0,delete e.map[t]}))}}}class T{static once(t,e=0,n){return this.timerBean.once(t,e,n)}static async delay(t=0,e=this.delayUnit){await this.timerBean.delay(t,e)}static on(t,e,n=!1,r){return this.timerBean.on(t,e,n,r)}}T.timerBean=new M,T.clear=()=>{S.removeAll()},T.delayUnit=1,T.un=(...t)=>{S.remove(...t)};class O{remove(t){const e=this;for(let n=e.length-1;n>=0;n--)"function"==typeof t?t(e[n])&&e.splice(n,1):e[n]===t&&e.splice(n,1)}toSet(t){return void 0===t&&(t=(t,e)=>t===e),this.filter(((e,n,r)=>r.findIndex((n=>t(e,n)))===n))}randSort(){const t=this;for(var e=0,n=t.length;e<n;e++){var r=parseInt(Math.random()*n+""),o=t[r];t[r]=t[e],t[e]=o}}sum(t){return this.reduce(((e,n)=>e+=t?n[t]:n),0)}}class E{static Format(t,e){return Date.Format(this,t,e)}static FormatDiff(t){return Date.FormatDiff(this,t)}static getTimeDiff(){return Date.timeDiff+this.getTime()}}class j{static contains(t,e){const n=this;return n.left<t&&n.top<e&&t<n.left+n.width&&e<n.top+n.height}static containX(t){const e=this;return e.left<t&&t<e.left+e.width}static containY(t){const e=this;return e.top<t&&t<e.top+e.height}}class k{static args(){let t=this.toString();return t=t.substring(t.indexOf("(")+1,t.indexOf("{")).replace(/\s+/g,""),t.substring(0,t.indexOf(")")).split(",").filter((t=>t.length>0))}}class A{static toJson(){const t=this;let e={};for(const n of t)e[n[0]]=n[1];return JSON.stringify(e)}}class D{static init(){Date.formatFail="",Date.Format=(t,e,n)=>{if(!(t instanceof Date)){if(String(t).length<10)return n||Date.formatFail;t=new Date(t)}const r=new Date(t.getTime());e||(e="yyyy-MM-dd hh:mm:ss");var o={"M+":r.getMonth()+1,"d+":r.getDate(),"h+":r.getHours(),"m+":r.getMinutes(),"s+":r.getSeconds(),"q+":Math.floor((r.getMonth()+3)/3),S:r.getMilliseconds()};for(var s in/(y+)/.test(e)&&(e=e.replace(RegExp.$1,(r.getFullYear()+"").substring(4-RegExp.$1.length))),o)new RegExp("("+s+")").test(e)&&(e=e.replace(RegExp.$1,1==RegExp.$1.length?o[s]:("00"+o[s]).substring((""+o[s]).length)));return e},Date.FormatDiff=(t,e)=>(t instanceof Date||(t=new Date(t)),Date.Format(t.getTime()+Date.timeDiff,e)),Date.timeDiff=0}}class N{static getClassNames(t){const e={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0,constructor:!0};let n=[],r=Object.getOwnPropertyNames(t);for(let o=0;o<r.length;++o){const s=r[o];e[s]||"function"!=typeof t[s]||n.push(s)}return n}}N.getFunction=t=>{const e=t.name,n=t+"",r=n.indexOf("{"),o=-1!=n.substring(0,r).indexOf("*")?"*":"";return-1!=n.substring(0,r).indexOf("=>")?new Function(`return function${o} ${e} ${n.substring(0,n.indexOf(")")+1)+n.substring(r)}`)():new Function(`return function${o} ${e}${n.substring(n.indexOf("("))}`)()},N.setPrototype=(t,e,n)=>{n=N.getFunction(n),Object.defineProperty(t.prototype,e,{writable:!0,enumerable:!1,value:n})},N.classSetToProperty=(t,e)=>{N.getClassNames(t).forEach((n=>{N.setPrototype(window[e],n,t[n])}))},N.iterator=function(){let t=this,e=Object.keys(t),n=0;return"_Vue3ToolIterator"===this._Vue3ToolIterator&&(e=this.keys,t=this.obj),new class{constructor(){return this._Vue3ToolIterator="_Vue3ToolIterator",this.obj=t,this.keys=e,this.next=()=>(n++,{value:n>e.length?null:t[e[n-1]],done:n>this.keys.length}),this}}};class W{static init(){N.classSetToProperty(O.prototype,"Array"),D.init(),N.classSetToProperty(E,"Date"),N.classSetToProperty(k,"Function"),N.classSetToProperty(j,"DOMRect"),N.classSetToProperty(A,"Map")}}var I,F,U;class B{}I=B,B.objectToString=Object.prototype.toString,B.toTypeString=t=>I.objectToString.call(t),B.isArray=Array.isArray,B.isMap=t=>"[object Map]"===I.toTypeString(t),B.isSet=t=>"[object Set]"===I.toTypeString(t),B.isDate=t=>"[object Date]"===I.toTypeString(t),B.isFunction=t=>"function"==typeof t,B.isString=t=>"string"==typeof t,B.isSymbol=t=>"symbol"==typeof t,B.isObject=t=>null!==t&&"object"==typeof t,B.isPromise=t=>I.isObject(t)&&I.isFunction(t.then)&&I.isFunction(t.catch),B.getObject=(t,e)=>{const n=I;let r=!1;if(n.isArray(t))for(let n=0;n<t.length&&(r=I.getObject(t[n],e),!r);n++);else if(n.isObject(t)){const o=Object.keys(t);for(let s=0;s<o.length;s++){const i=o[s],a=t[i];if(r=e(i,a,t),r)break;if((n.isArray(a)||n.isObject(a))&&(r=n.getObject(a,e)),r)break}}return r},B.getObjectByChildren=(t,e,n=["children"])=>{if(Array.isArray(t))for(let r=0;r<t.length;r++)I.getObjectByChildren(t[r],e,n);else if(I.isObject(t)){e(t);for(let r=0;r<n.length;r++)t[n[r]]&&I.getObjectByChildren(t[n[r]],e,n)}},B.deepMerge=(t,e)=>{const n=I,r=Object.assign({},t);for(const o in e)e.hasOwnProperty(o)&&("object"==typeof e[o]&&t.hasOwnProperty(o)&&"object"==typeof t[o]?r[o]=n.deepMerge(t[o],e[o]):r[o]=e[o]);return r},B.getPathValue=(t,e)=>{if("object"!=typeof t)return"";const n=e.split(".");let r=t;for(const t of n)r&&"object"==typeof r&&(r=r[t]);return r};class _{static init(){const t=(t,e,n)=>{if(e){e.onreadystatechange=null,e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null;try{e.onprogress=null}catch(t){}try{e.upload.onprogress=null,e.upload.onload=null,e.upload.onerror=null,e.upload.onabort=null,e.upload.ontimeout=null,e.upload.onloadend=null,e.upload.onloadstart=null}catch(t){}e=void 0}n&&(t.xhr[n]=void 0,delete t.xhr[n])},e=e=>{const n={dataCache:{},xhr:{},get:(e,r)=>{r||(r={}),"string"==typeof e?e={url:e,method:"GET"}:(e.method=e.method||"GET",e.method=e.method.toUpperCase());const o=e;return new Promise((async(i,a)=>{const l=s.getId(),c=n.config,d=c.base,u=c.before,h=c.after,p=c.error,f={headers:c.headers,data:r,param:o,stop:()=>{m&&(m.abort(),t(n,m,l))}};let m=new XMLHttpRequest;u&&await u(f,m);let g=d+o.url;o.url.startsWith("http")&&(g=o.url),g.startsWith("//")&&(g=g.replace(/(\/{2,})/g,"/"));const y=(t=>{const e={};return Object.keys(t).forEach((n=>{"function"!=typeof t[n]&&(e[n]=t[n])})),e})(f.data);if("GET"===o.method){const t=Object.keys(y).map((t=>`${t}=${encodeURIComponent(y[t])}`)).join("&");g=t?`${g}?${t}`:g}const x=g+JSON.stringify(y);0!==o.expire&&void 0!==o.expire||delete n.dataCache[x];let v=n.dataCache[x];if(v){if(v.expire>Date.now())return await h({data:v.data,responseType:o.responseType||c.responseType,status:200,xhr:null},f),void i(v.data);delete n.dataCache[x]}m.open(o.method,g,!0),o.headers&&(f.headers=Object.assign(Object.assign({},f.headers),o.headers)),Object.keys(f.headers).forEach((t=>{const e=f.headers[t];e&&!e.startsWith("multipart/form-data")&&m.setRequestHeader(t,e)})),m.timeout=o.timeout||c.timeout,m.responseType=o.responseType||c.responseType;try{m.withCredentials=o.withCredentials||c.withCredentials}catch(t){}const b={0:"ReQuest Interrupt",404:"Request Address Not Found",405:"Request Method Not Allowed",500:"Request Exception",504:"Request Timeout"},w=(e,r)=>{var o;p(e,f,r),t(n,m,l),a({status:e,message:null!==(o=b[e+""])&&void 0!==o?o:"Other Exception"})};m.ontimeout=function(){w(504)},m.onerror=function(t){w(500)},m.onabort=function(){w(0)};const C=e;if(m.upload&&C.onProgress&&(m.upload.onprogress=function(t){if(t.lengthComputable&&t.total>0){const e=parseInt(t.loaded/t.total*100);C.onProgress(e,t.loaded,t.total)}}),m.onreadystatechange=async function(){if(4===m.readyState){const e={data:m.response,responseType:m.responseType,status:m.status,xhr:m};if(0!==m.status){const t=m.getResponseHeader("Content-Type");if(t&&t.includes("application/json")&&"string"==typeof m.response)try{e.data=JSON.parse(m.response)}catch(t){}}if(200===m.status){if(o.expire){let t=o.expire;t<0&&(t=c.expireMaxTime),n.dataCache[x]={data:e.data,expire:Date.now()+1e3*t}}await h(e,f),200!==e.status?w(e.status):t(n,m,l),i(e.data)}else 0!==m.status&&w(m.status,e)}},"GET"===o.method)m.send();else{const t=f.headers["Content-Type"];if("multipart/form-data"==t){const t=new FormData;let e=0;for(let n in y)y[n]instanceof File?(t.append(n,y[n],y[n].name||n),e+=y[n].size):t.append(n,y[n]);C.onProgress&&C.onProgress(0,0,e),m.send(t)}else"application/x-www-form-urlencoded"==t?m.send(Object.keys(y).map((t=>`${t}=${encodeURIComponent(y[t])}`)).join("&")):"application/json"==t?m.send(JSON.stringify(y)):m.send(y)}n.xhr[l]=m}))},post:(t,e)=>("string"==typeof t?t={url:t,method:"POST"}:t.method=t.method||"POST",n.get(t,e)),stop:()=>{Object.keys(n.xhr).forEach((e=>{n.xhr[e].abort(),t(n,n.xhr[e])})),n.xhr={}},config:{base:"",timeout:3e4,withCredentials:!1,responseType:"text",expireMaxTime:86400,headers:{Accept:"*","Content-Type":"application/json"},before:()=>{},after:()=>{},error:()=>{}},setConfig:t=>{n.dataCache={},t&&"object"==typeof t&&(n.config=B.deepMerge(n.config,t))}};return n.setConfig(e),n};window.httpBean=e,window.http=e()}static ping(t,e=6e3){return new Promise((n=>{t.endsWith("/")||(t+="/");let r=new Image,o=Date.now();const s=setTimeout((()=>{n(e)}),e);r.onerror=function(){clearTimeout(s),n(Date.now()-o)},r.src=t+o}))}}class P{}P.setValue=t=>{if(t&&"string"!=typeof t)try{t=JSON.stringify(t)}catch(t){}return t},P.getValue=t=>{if(t&&((null==t?void 0:t.startsWith("{"))||(null==t?void 0:t.startsWith("["))))try{return JSON.parse(t)}catch(t){}return t&&!isNaN(Number(t))?Number(t):t};class R{static set(t,e,n){e=P.setValue(e);let r=t+"="+encodeURIComponent(e);if(r+="; path="+((null==n?void 0:n.path)?null==n?void 0:n.path:"/"),!(null==n?void 0:n.session)){let t="";if(null==n?void 0:n.expire)t=new Date(Date.now()+n.expire*this.expireUnit).toUTCString();else{let e=new Date;e.setDate(e.getDate()+R.expire),t=e.toUTCString()}r+="; expires="+t}n&&n.domain&&(r+="; domain="+n.domain),document.cookie=r}static get(t){const e=t+"=",n=document.cookie.split(";");for(const t of n){const n=t.trim();if(0===n.indexOf(e)){let t=decodeURIComponent(n.substring(e.length,n.length));return t=P.getValue(t),t}}return null}static remove(t,e){this.set(t,"",{domain:e,expire:-1})}static clear(t=["/"],e=""){document.cookie.split(";").forEach((n=>{const r=n.indexOf("="),o=r>-1?n.substr(0,r):n;t.forEach((t=>{const n=e?`;domain=${e}`:"";document.cookie=`${o}=;expires=Thu, 01 Jan 1970 00:00:00 GMT;path=${t}${n}`}))}))}}R.expire=3600,R.expireUnit=1e3;class L{static set(t,e,n){var r,o;if(e=P.setValue(e),null===(r=L.localStorage)||void 0===r||r.setItem(t,e),null==n?void 0:n.expire){const e=Date.now()+n.expire*this.expireUnit;null===(o=L.localStorage)||void 0===o||o.setItem(t+"_expire",e+"")}}static get(t){var e,n;const r=null===(e=L.localStorage)||void 0===e?void 0:e.getItem(t+"_expire");if(r&&Date.now()>Number(r))return this.remove(t),this.remove(t+"_expire"),null;let o=null===(n=L.localStorage)||void 0===n?void 0:n.getItem(t);return o=P.getValue(o),o}static remove(t){var e;null===(e=L.localStorage)||void 0===e||e.removeItem(t)}static clear(){L.localStorage.clear()}}L.localStorage=localStorage,L.expireUnit=1e3;class ${}F=$,$.httpBean=null,$.getFileFun=t=>{const e=F;null==e.httpBean&&(e.httpBean=httpBean());let n={base:"/",outtime:3e4,responseType:"text"};t&&(n=Object.assign(n,t));return t=>(t.startsWith("http")||(t=n.base+t),new Promise((r=>{e.httpBean.get({url:t,timeout:n.outtime,responseType:n.responseType}).then((t=>{r(t)})).catch((()=>{r(void 0)}))})))},$.getFile=(t,e)=>F.getFileFun(e)(t);class X{static rem(){const t=X;let e=document.getElementsByTagName("head")[0].getAttribute("design-width");function n(){let e=t.getDeviceWidth();document.documentElement.style.fontSize=e/(t.remWidth/t.remFontSize)+"px"}e||(e=t.remWidth),t.remWidth=e,n(),window.addEventListener("resize",(()=>{n()}));const r=document.createElement("style");r.innerHTML="@media screen and (min-width:"+t.remWidth+"px){.design-box{width:"+t.remWidth+"px !important;position:relative;}",document.getElementsByTagName("head")[0].appendChild(r)}static getDeviceWidth(){const t=X;let e=document.documentElement.clientWidth;const n="function"==typeof t.maxWidth?t.maxWidth():t.maxWidth;return e>=n&&(e=n),e}static rem2px(t){const e=X;return t*(e.getDeviceWidth()/e.remWidth)}static px2rem(t){const e=X;let n=e.getDeviceWidth();return t*(e.remWidth/n)}static getMaxBox(){const t=this.remWidth,e=this.remHeight,n=window.innerWidth,r=window.innerHeight,o=e/t,s=r/n;return o>s?{height:r,width:r/o}:this.maxRatio&&s>this.maxRatio?{height:n*this.maxRatio,width:n}:{height:r,width:n}}static getMaxHeight(){return this.getMaxBox().height}static getMaxWidth(){return this.getMaxBox().width}}X.remWidth=750,X.maxWidth=500,X.remFontSize=1,X.maxRatio=2.221,X.remHeight=1334;class Y{}Y.countdown=t=>{const e=t=>t<10?`0${t}`:`${t}`;let n=Math.floor(t/1e3);if(n<0)return["00","00","00",0];const r=Math.floor(n/60/60/24),o=Math.floor(n/60/60%24),s=Math.floor(n/60%60),i=n%60;return[e(r),e(o),e(s),e(i),n]},Y.somedayse=(t=0,e=new Date)=>{t*=864e5,e.setHours(0,0,0,0);const n=e.getTime()+t;e.setHours(23,59,59,999);return[n,e.getTime()+t]};const H=t=>{let e=t.toString().trim();return e.length>50&&(e=e.substring(0,22)+e.substring(e.length-22,e.length-1)),e};class V{}U=V,V.timer=T,V.debounceMap={},V.debounce=(t,e=500)=>{const n=U,r=H(t);n.debounceMap[r]&&n.timer.un(n.debounceMap[r]),n.debounceMap[r]=n.timer.once((()=>{t(),delete n.debounceMap[r]}),e)},V.throttleMap={},V.throttle=(t,e=500,n=U.throttleTip)=>{const r=U,o=H(t);r.throttleMap[o]?n():(t(),r.throttleMap[o]=r.timer.once((()=>{delete r.throttleMap[o]}),e))},V.throttleTip=()=>{},V.lockMap={},V.lock=async t=>{const e=U,n=H(t);return e.lockMap[n]||(e.lockMap[n]=new Promise((async(r,o)=>{try{r(await t())}catch(t){o(t)}delete e.lockMap[n]}))),await e.lockMap[n]};const z={ArrayUtil:t,Base64Util:e,ByteUtil:n,CEvent:l,CEventBean:a,JSONUtil:h,KeyUtil:p,MathUtil:C,DomUtil:c,EnUtil:d,IFrameUtil:u,StrUtil:s,ScriptUtil:class{static scriptLoad(t){const e=t=>{t.parentNode&&t.parentNode.removeChild(t),t.onload=null,t.onerror=null,t=null},n=document.getElementsByTagName("script")[0]||document.head;let r=document.createElement("script");return r.src=t,n.parentNode.insertBefore(r,n),new Promise((t=>{r.onload=function(){t(!0),e(r)},r.onerror=function(){t(!1),e(r)}}))}},TimerBean:M,Timer:T,HttpUtil:_,CookieVal:P,Cookie:R,CookieL:L,FileUtil:$,H5Util:X,ObjectUtil:B,TimeUtil:Y,FunUtil:V};if(!window.CookieL){const t=Object.keys(z);for(let e=0;e<t.length;e++){const n=t[e];window[n]=z[n]}W.init(),_.init(),window.isNull=s.isNull}}();
