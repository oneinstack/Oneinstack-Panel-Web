!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("vue")):"function"==typeof define&&define.amd?define(["exports","vue"],t):t((e="undefined"!=typeof globalThis?globalThis:e||self)["tools-vue3"]={},e.vue)}(this,(function(e,t){"use strict";const n="__scopeObjFun";const o=e=>Array.isArray(e)?e.map((e=>e instanceof RegExp?e:new RegExp(e))):e instanceof RegExp?[e]:e?[new RegExp(e)]:[];e.CRouter=class{static init=e=>{const t=e.root||"/src/views";if(!e.modules)throw new Error("modules is required");const n=e.modules,r={},s=o(e.excludeReg);Object.entries(n).forEach((([e,n])=>{if(!s.some((t=>t.test(e)))){const o=e.replace(t,"").replace(".vue","");r[o]={value:n,status:!0}}}));const c=e.children||[],i=e.themeTag||"-",u=[],a=(e=!0)=>Object.keys(r).filter((t=>{const n=r[t].status===e,o=t.substring(t.lastIndexOf("/")+1).includes(i);return n&&!o})),l=e.pathHook||(e=>e),p=t=>l(e.alias?.[t]||t);if(c.length){const e=t=>{if(t.children=t.children||[],t.childrenList&&t.childrenList.forEach((e=>{r[e]&&(t.children.push({path:p(e),component:e}),r[e].status=!1)})),t.children&&t.children.forEach((t=>{e(t)})),t.component&&(t.path||(t.path=p(t.component)),t.component=t.component,r[t.component].status=!1),t.childrenReg){const e=o(t.childrenReg);a().forEach((n=>{e.some((e=>e.test(n)))&&(t.children.push({path:p(n),component:n}),r[n].status=!1)}))}};for(let t=0;t<c.length;t++){const n=c[t];r[n.component]&&(e(n),u.push(n))}}a().forEach((e=>{u.push({path:p(e),component:e}),r[e].status=!1})),u.unshift(...e.init||[]);var f,d;return f=u,d=e.theme||"default",ObjectUtil.getObjectByChildren(f,(e=>{e.path&&e.component&&(e.component=n?.[`${t}${e.component}${i}${d}.vue`]??n?.[`${t}${e.component}.vue`])})),u}},e.CVue3=class{static onDispose=e=>{const n=t.getCurrentInstance();let o=n.vnode.el?.parentElement?.parentElement,r=!1;const s=setInterval((()=>{if(r)return void clearInterval(s);const t=n.vnode.el?.parentElement?.parentElement;return void 0===o&&(o=t),o&&!t?(clearInterval(s),void e()):void 0}),50);t.onUnmounted((()=>{r=!0,e()}))};static createCom=e=>{let n=e.domOrIdOrClass||document.body;"string"==typeof n&&(n=document.querySelector(n));const o=(...e)=>{r.unmount(),r=void 0,e.forEach((e=>{e&&n.removeChild(e)})),n.removeChild(s)};e.props||(e.props={}),e.props.remove=o;let r=t.createApp(e.component,e.props);const s=document.createElement("div");return e.beforeMount&&e.beforeMount(r),r.mount(s),e.first?n.insertBefore(s,n.firstChild):n.appendChild(s),{vm:r,remove:o}}},e.Scope=class{static setConf=(e,o)=>{o||"string"==typeof e||(o=e,e="conf");const r=t.getCurrentInstance();let s=o;if("function"!=typeof s&&(s=()=>o),r){let t=r[n];t||(t=[]),t.push({key:e,fun:s}),r[n]=t}};static getConf=(e,o)=>{e?"number"==typeof e&&(o=e,e="conf"):e="conf",o||(o=1);let r=t.getCurrentInstance(),s=0,c=()=>null;for(;r=r.parent;){const t=r[n];if(t)for(let n=0;n<t.length;n++){const r=t[n];if(r.key===e&&(s++,c=r.fun,s===o))return r.fun()}}return c()};static CEventBean=null;static Event=()=>{if(!this.CEventBean)return null;const e=t.getCurrentInstance(),n=new this.CEventBean;return n.vm=()=>()=>!e.isUnmounted,n};static TimerBean=null;static Timer=()=>{if(!this.TimerBean)return null;const e=new this.TimerBean,n=t.getCurrentInstance();return e.vm=()=>()=>!n.isUnmounted,e}}}));
