/* empty css             */import{E as e,a}from"./el-form-item-DBl2iH2x.js";import{E as o}from"./el-checkbox-DQDwETtM.js";import{E as l}from"./el-input-CCiT4Pw-.js";import{d as s,s as r,x as i,aa as t,ab as n,a1 as m,a2 as d,W as u,h as p,o as f,i as c,X as g,n as v,a3 as b,T as h,b as w,$ as x,ac as _}from"./index-B0-DY18Y.js";import j from"./login-container-CeXganjl.js";import{A as y}from"./Api-BE344Hwh.js";import{_ as V}from"./_plugin-vue_export-helper-BCo6x5W8.js";import"./castArray-DHQk_f1a.js";import"./_Uint8Array-D0RYPAnJ.js";import"./_initCloneObject-B_s4quhu.js";import"./isEqual-C6HWhcNO.js";/* empty css                   */const L=""+new URL("../images/logo-pc.png",import.meta.url).href,k=""+new URL("../images/logo-app.png",import.meta.url).href,A={src:L,alt:"logo",width:"320",height:"60",key:"pc-logo"},R={src:k,alt:"logo",width:"180",height:"180",key:"mobile-logo"},U={class:"flex justify-between"},E=V(s({__name:"index",setup(s){const V=r(!(window.innerWidth<=768));window.addEventListener("resize",(()=>{V.value=window.innerWidth>=768}));const L=i({form:{username:"",password:"",remember:!1},loading:!1,formRef:t("formRef"),rules:{username:[{required:!0,message:"请输入用户名",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"}]},handleLogin:()=>{var e;null==(e=L.formRef)||e.validate((async e=>{if(!e)return;L.loading=!0;const{data:a}=await y.login({...L.form,final:()=>L.loading=!1});m.success("登录成功"),d.login(a),setTimeout((()=>{n.router.push("/")}),500)}))},handleToAppLogin:()=>{n.router.push("/login/scan")}});return(s,r)=>{const i=u("v-s-icon"),t=l,n=a,m=o,d=e;return f(),p(j,{loading:L.loading,currentActive:"login"},{default:c((({className:e})=>[g("div",{class:v(["logo-box flex justify-center fit-width",{"mobile-logo":V.value}]),style:{padding:"100px 0 60px"}},[b(h,{name:"logo-fade",mode:"out-in"},{default:c((()=>[V.value?(f(),w("img",A)):(f(),w("img",R))])),_:1})],2),g("div",{class:v(["",{"login-title-box":V.value}])},[g("div",{class:v(["login-title flex",{"mobile-title":V.value}])},[b(h,{name:"fade",mode:"out-in"},{default:c((()=>[(f(),w("div",{style:{flex:"1"},key:V.value?0:1},x(V.value?"欢迎使用":"欢迎来到Oneinstack"),1))])),_:1})],2),b(d,{ref:"formRef",model:L.form,rules:L.rules,class:"fit-width"},{default:c((()=>[b(n,{class:v([e.formItemGap,{"input-box":!V.value}]),prop:"username"},{default:c((()=>[b(t,{modelValue:L.form.username,"onUpdate:modelValue":r[0]||(r[0]=e=>L.form.username=e),placeholder:"输入您的账户/手机号/邮箱号",clearable:"",class:v({"pc-input":V.value})},{prefix:c((()=>[b(i,{name:"user",size:"30"})])),_:1},8,["modelValue","class"])])),_:2},1032,["class"]),b(n,{prop:"password",class:v({"input-box":!V.value})},{default:c((()=>[b(t,{modelValue:L.form.password,"onUpdate:modelValue":r[1]||(r[1]=e=>L.form.password=e),placeholder:"输入您的密码",type:"password",clearable:"",class:v({"pc-input":V.value})},{prefix:c((()=>[b(i,{name:"password",size:"30"})])),_:1},8,["modelValue","class"])])),_:1},8,["class"]),g("div",U,[b(m,{modelValue:L.form.remember,"onUpdate:modelValue":r[2]||(r[2]=e=>L.form.remember=e),label:"记住密码"},null,8,["modelValue"])]),g("button",{class:v([e.loginBtn,{"mobile-btn":V.value}]),onClick:r[3]||(r[3]=_(((...e)=>L.handleLogin&&L.handleLogin(...e)),["prevent"]))},"登录",2)])),_:2},1032,["model","rules"])],2)])),_:1},8,["loading"])}}}),[["__scopeId","data-v-4ec55470"]]);export{E as default};
