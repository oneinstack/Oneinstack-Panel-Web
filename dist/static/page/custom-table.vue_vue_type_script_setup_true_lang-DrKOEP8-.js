/* empty css             *//* empty css                   */import{E as e}from"./el-pagination-jkW4z2yl.js";import"./el-tag-hrDeqNMc.js";import"./el-select-DASP7Wfd.js";import{E as t}from"./el-popper-DuiXp9eT.js";/* empty css                 */import{a,E as o}from"./el-table-column-CmDaQHVS.js";import"./el-checkbox-DBaZw9db.js";import"./el-tooltip-l0sNRNKZ.js";import{d as l,x as s,c as n,H as i,ad as r,b as p,o as d,a3 as c,X as g,i as u,h as m,ae as h,J as f,a5 as b,r as y,e as x,a4 as C,f as j,$ as v}from"./index-BpgbG9_h.js";const w={class:"table-content"},S={class:"pagination"},k=l({__name:"custom-table",props:{loading:{type:Boolean,default:!1},selection:{type:Boolean,default:!1},selectionChange:{},pageSize:{default:10},autoPagination:{type:Boolean,default:!0},total:{default:0},columns:{default:()=>[]},data:{default:()=>[]}},emits:["update:page"],setup(l,{emit:k}){const z=l,_=k,B=s({total:n((()=>z.autoPagination?z.data.length:z.total)),page:1,pageSize:z.pageSize,visibleData:n((()=>z.data.slice((B.page-1)*B.pageSize,B.page*B.pageSize))),handleCurrentChange:e=>{B.page=e,_("update:page",e)},contentRefs:[]});return(l,s)=>{const n=o,k=t,z=a,_=e,$=r;return i((d(),p("div",w,[c(z,{data:l.autoPagination?B.visibleData:l.data,border:"",style:{width:"100%","text-align":"center"},onSelectionChange:l.selectionChange,"empty-text":"暂无数据","cell-style":{"text-align":"center"},"header-cell-style":{"border-right":"1px solid #8B8B8B30","text-align":"center"}},{empty:u((()=>[l.$slots.empty?y(l.$slots,"empty",{key:0}):h("",!0)])),default:u((()=>[l.selection?(d(),m(n,{key:0,type:"selection",width:"55"})):h("",!0),(d(!0),p(f,null,b(l.columns,((e,t)=>(d(),m(n,{key:e.prop,prop:e.prop,label:e.label,width:e.width,sortable:e.sortable,"sort-method":e.sortMethod},{default:u((({row:a,$index:o})=>{var s,n,i;return[l.$slots[e.prop]?y(l.$slots,e.prop,{key:0,row:a,index:o}):(d(),m(k,{key:1,disabled:!((null==(s=B.contentRefs[o*l.columns.length+t])?void 0:s.scrollWidth)>(null==(n=B.contentRefs[o*l.columns.length+t])?void 0:n.offsetWidth)),effect:"light"===x(C).theme?"dark":"light",content:null==(i=a[e.prop])?void 0:i.toString(),placement:"bottom"},{default:u((()=>[g("div",{ref_for:!0,ref:e=>B.contentRefs[o*l.columns.length+t]=e,class:"ellipsis",style:j({width:e.width})},v(e.formatter?e.formatter(a):a[e.prop]||(null==e?void 0:e.placeholder)),5)])),_:2},1032,["disabled","effect","content"]))]})),_:2},1032,["prop","label","width","sortable","sort-method"])))),128))])),_:3},8,["data","onSelectionChange"]),g("div",S,[c(_,{background:"",layout:"prev, pager, next",total:B.total,"page-size":B.pageSize,onCurrentChange:B.handleCurrentChange},null,8,["total","page-size","onCurrentChange"])])])),[[$,l.loading]])}}});export{k as _};
