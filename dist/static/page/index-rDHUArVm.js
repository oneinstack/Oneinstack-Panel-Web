/* empty css             */import{E as e,a}from"./el-form-item-CGp8wt0Y.js";import{E as o}from"./el-checkbox-DBaZw9db.js";/* empty css                 */import{d as s,s as l,x as r,aa as i,ab as t,a1 as n,a2 as m,W as d,h as u,o as p,i as f,X as c,n as g,a3 as b,T as v,b as h,$ as w,ac as x}from"./index-BpgbG9_h.js";import j from"./login-container-DRSwWvIX.js";import{A as _}from"./Api-DIELJlCh.js";import{E as y}from"./index-B5k-8-YQ.js";import{_ as V}from"./_plugin-vue_export-helper-BCo6x5W8.js";import"./index-vgTml2Xy.js";import"./castArray-rxr1KqzA.js";import"./_Uint8Array-CjQH01s2.js";import"./_initCloneObject-Dm3var8j.js";import"./isEqual-DSpmu0jQ.js";/* empty css                   */const L=""+new URL("../images/logo-pc.png",import.meta.url).href,k=""+new URL("../images/logo-app.png",import.meta.url).href,A={src:L,alt:"logo",width:"320",height:"60",key:"pc-logo"},R={src:k,alt:"logo",width:"180",height:"180",key:"mobile-logo"},U={class:"flex justify-between"},E=V(s({__name:"index",setup(s){const V=l(!(window.innerWidth<=768));window.addEventListener("resize",(()=>{V.value=window.innerWidth>=768}));const L=r({form:{username:"",password:"",remember:!1},loading:!1,formRef:i("formRef"),rules:{username:[{required:!0,message:"请输入用户名",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"}]},handleLogin:()=>{var e;null==(e=L.formRef)||e.validate((async e=>{if(!e)return;L.loading=!0;const{data:a}=await _.login({...L.form,final:()=>L.loading=!1});n.success("登录成功"),m.login(a),setTimeout((()=>{t.router.push("/")}),500)}))},handleToAppLogin:()=>{t.router.push("/login/scan")}});return(s,l)=>{const r=d("v-s-icon"),i=y,t=a,n=o,m=e;return p(),u(j,{loading:L.loading,currentActive:"login"},{default:f((({className:e})=>[c("div",{class:g(["logo-box flex justify-center fit-width",{"mobile-logo":V.value}]),style:{padding:"100px 0 60px"}},[b(v,{name:"logo-fade",mode:"out-in"},{default:f((()=>[V.value?(p(),h("img",A)):(p(),h("img",R))])),_:1})],2),c("div",{class:g(["",{"login-title-box":V.value}])},[c("div",{class:g(["login-title flex",{"mobile-title":V.value}])},[b(v,{name:"fade",mode:"out-in"},{default:f((()=>[(p(),h("div",{style:{flex:"1"},key:V.value?0:1},w(V.value?"欢迎使用":"欢迎来到Oneinstack"),1))])),_:1})],2),b(m,{ref:"formRef",model:L.form,rules:L.rules,class:"fit-width"},{default:f((()=>[b(t,{class:g([e.formItemGap,{"input-box":!V.value}]),prop:"username"},{default:f((()=>[b(i,{modelValue:L.form.username,"onUpdate:modelValue":l[0]||(l[0]=e=>L.form.username=e),placeholder:"输入您的账号",clearable:"",class:g({"pc-input":V.value})},{prefix:f((()=>[b(r,{name:"user",size:"30"})])),_:1},8,["modelValue","class"])])),_:2},1032,["class"]),b(t,{prop:"password",class:g({"input-box":!V.value})},{default:f((()=>[b(i,{modelValue:L.form.password,"onUpdate:modelValue":l[1]||(l[1]=e=>L.form.password=e),placeholder:"输入您的密码",type:"password",clearable:"",class:g({"pc-input":V.value})},{prefix:f((()=>[b(r,{name:"password",size:"30"})])),_:1},8,["modelValue","class"])])),_:1},8,["class"]),c("div",U,[b(n,{modelValue:L.form.remember,"onUpdate:modelValue":l[2]||(l[2]=e=>L.form.remember=e),label:"记住密码"},null,8,["modelValue"])]),c("button",{class:g([e.loginBtn,{"mobile-btn":V.value}]),onClick:l[3]||(l[3]=x(((...e)=>L.handleLogin&&L.handleLogin(...e)),["prevent"]))},"登录",2)])),_:2},1032,["model","rules"])],2)])),_:1},8,["loading"])}}}),[["__scopeId","data-v-6b13c2d6"]]);export{E as default};
