import{B as e,O as t,C as n,aP as o}from"./index-B5c3jFiu.js";const s=(s,u,a,l)=>{let m={offsetX:0,offsetY:0};const i=e=>{const t=e.clientX,n=e.clientY,{offsetX:u,offsetY:a}=m,i=s.value.getBoundingClientRect(),v=i.left,d=i.top,f=i.width,r=i.height,c=document.documentElement.clientWidth,h=document.documentElement.clientHeight,E=-v+u,L=-d+a,X=c-v-f+u,Y=h-d-r+a,p=e=>{let i=u+e.clientX-t,v=a+e.clientY-n;(null==l?void 0:l.value)||(i=Math.min(Math.max(i,E),X),v=Math.min(Math.max(v,L),Y)),m={offsetX:i,offsetY:v},s.value&&(s.value.style.transform=`translate(${o(i)}, ${o(v)})`)},g=()=>{document.removeEventListener("mousemove",p),document.removeEventListener("mouseup",g)};document.addEventListener("mousemove",p),document.addEventListener("mouseup",g)},v=()=>{u.value&&s.value&&u.value.removeEventListener("mousedown",i)};return e((()=>{t((()=>{a.value?u.value&&s.value&&u.value.addEventListener("mousedown",i):v()}))})),n((()=>{v()})),{resetPosition:()=>{m={offsetX:0,offsetY:0},s.value&&(s.value.style.transform="none")}}};export{s as u};
