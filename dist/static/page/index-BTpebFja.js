/* empty css             */import{E as e,a}from"./el-form-item-ey1Wr8cE.js";import{E as o}from"./el-checkbox-WLPkjpqU.js";/* empty css                 */import{d as s,s as l,x as i,ab as r,ac as t,a1 as n,a2 as m,W as d,h as u,o as p,i as c,X as f,n as g,a3 as v,T as b,b as h,$ as x,ad as w}from"./index-B5c3jFiu.js";import j from"./login-container-HFwMoGRW.js";import{A as _}from"./Api-99phi20S.js";import{E as y}from"./index-FXwX-Tc-.js";import{_ as V}from"./_plugin-vue_export-helper-BCo6x5W8.js";import"./index-DwJjVrn6.js";import"./castArray-DrYRfuDR.js";import"./_Uint8Array-D9m7vkXT.js";import"./_initCloneObject-CUocRwYS.js";import"./isEqual-ClYigGjQ.js";/* empty css                   */const k={src:"/static/images/logo-pc.png",alt:"logo",width:"320",height:"60",key:"pc-logo"},A={src:"/static/images/logo-app.png",alt:"logo",width:"180",height:"180",key:"mobile-logo"},E={class:"flex justify-between"},L=V(s({__name:"index",setup(s){const V=l(!(window.innerWidth<=768));window.addEventListener("resize",(()=>{V.value=window.innerWidth>=768}));const L=i({form:{username:"",password:"",remember:!1},loading:!1,formRef:r("formRef"),rules:{username:[{required:!0,message:"请输入用户名",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"}]},handleLogin:()=>{var e;null==(e=L.formRef)||e.validate((async e=>{if(!e)return;L.loading=!0;const{data:a}=await _.login({...L.form,final:()=>L.loading=!1});n.success("登录成功"),m.login(a),setTimeout((()=>{t.router.push("/")}),500)}))},handleToAppLogin:()=>{t.router.push("/login/scan")}});return(s,l)=>{const i=d("v-s-icon"),r=y,t=a,n=o,m=e;return p(),u(j,{loading:L.loading,currentActive:"login"},{default:c((({className:e})=>[f("div",{class:g(["logo-box flex justify-center fit-width",{"mobile-logo":V.value}]),style:{padding:"100px 0 60px"}},[v(b,{name:"logo-fade",mode:"out-in"},{default:c((()=>[V.value?(p(),h("img",k)):(p(),h("img",A))])),_:1})],2),f("div",{class:g(["",{"login-title-box":V.value}])},[f("div",{class:g(["login-title flex",{"mobile-title":V.value}])},[v(b,{name:"fade",mode:"out-in"},{default:c((()=>[(p(),h("div",{style:{flex:"1"},key:V.value?0:1},x(V.value?"欢迎使用":"欢迎来到Oneinstack"),1))])),_:1})],2),v(m,{ref:"formRef",model:L.form,rules:L.rules,class:"fit-width"},{default:c((()=>[v(t,{class:g([e.formItemGap,{"input-box":!V.value}]),prop:"username"},{default:c((()=>[v(r,{modelValue:L.form.username,"onUpdate:modelValue":l[0]||(l[0]=e=>L.form.username=e),placeholder:"输入您的账号",clearable:"",class:g({"pc-input":V.value})},{prefix:c((()=>[v(i,{name:"user",size:"30"})])),_:1},8,["modelValue","class"])])),_:2},1032,["class"]),v(t,{prop:"password",class:g({"input-box":!V.value})},{default:c((()=>[v(r,{modelValue:L.form.password,"onUpdate:modelValue":l[1]||(l[1]=e=>L.form.password=e),placeholder:"输入您的密码",type:"password",clearable:"",class:g({"pc-input":V.value})},{prefix:c((()=>[v(i,{name:"password",size:"30"})])),_:1},8,["modelValue","class"])])),_:1},8,["class"]),f("div",E,[v(n,{modelValue:L.form.remember,"onUpdate:modelValue":l[2]||(l[2]=e=>L.form.remember=e),label:"记住密码"},null,8,["modelValue"])]),f("button",{class:g([e.loginBtn,{"mobile-btn":V.value}]),onClick:l[3]||(l[3]=w(((...e)=>L.handleLogin&&L.handleLogin(...e)),["prevent"]))},"登录",2)])),_:2},1032,["model","rules"])],2)])),_:1},8,["loading"])}}}),[["__scopeId","data-v-54280037"]]);export{L as default};
