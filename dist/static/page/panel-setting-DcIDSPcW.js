import a from"./setting-form-MT8ZMgV5.js";import{A as t}from"./Api-BE344Hwh.js";import{d as s,x as e,a1 as r,O as i,b as p,o,n as l,X as n,a3 as d}from"./index-B0-DY18Y.js";import{_ as c}from"./_plugin-vue_export-helper-BCo6x5W8.js";/* empty css             */import"./el-form-item-DBl2iH2x.js";import"./el-input-CCiT4Pw-.js";import"./castArray-DHQk_f1a.js";import"./_Uint8Array-D0RYPAnJ.js";import"./_initCloneObject-B_s4quhu.js";import"./el-button-C6SlJWJv.js";import"./el-switch-B6mzs_qc.js";import"./validator-CE5lR2he.js";const u={class:"basic-card__body"},m=c(s({__name:"panel-setting",props:{isCard:{type:Boolean,default:!0},allinfo:{default:()=>({})}},setup(s){const c=s,m=e({settingData:[{label:"面板别名",prop:"title",value:"",type:"input",action:{type:"primary",text:"保存",click:async()=>{var a;try{const s=null==(a=m.settingData.find((a=>"title"===a.prop)))?void 0:a.value,{data:e}=await t.updateSystemTitley({title:s});e&&(document.title=s+"",r.success("修改成功"))}catch(s){r.error("修改失败")}}},tip:"给面板取个别的名称，用于网页标题"},{label:"面板账号",prop:"username",value:"",type:"input",disabled:!1,action:{type:"primary",text:"保存",click:async()=>{var a;try{const s=null==(a=m.settingData.find((a=>"username"===a.prop)))?void 0:a.value,{data:e}=await t.updateUpdateuser({username:s});e&&r.success("修改成功")}catch(s){r.error("修改失败")}}},tip:"设置面板账号，用于登录面板"},{label:"面板密码",prop:"password",value:"",type:"password",disabled:!1,action:{type:"primary",text:"保存",click:async()=>{var a,s;try{const e=null==(a=m.settingData.find((a=>"password"===a.prop)))?void 0:a.value,i=null==(s=m.settingData.find((a=>"username"===a.prop)))?void 0:s.value,{data:p}=await t.updateResetpassword({password:e,username:i});p&&r.success("修改成功")}catch(e){r.error("修改失败")}}},tip:"设置面板密码，用于登录面板"}]});return i((()=>{(async()=>{const a=c.allinfo;a&&m.settingData.forEach((t=>{var s;a&&(t.value=a[t.prop]||(null==(s=a.user)?void 0:s[t.prop])||"","password"===t.prop&&(t.value="******"))}))})()})),(t,s)=>(o(),p("div",{class:l(["basic-card",{isCard:t.isCard}])},[s[0]||(s[0]=n("div",{class:"basic-card__header"},[n("div",{class:"basic-card__title"},"面板设置")],-1)),n("div",u,[d(a,{data:m.settingData},null,8,["data"])])],2))}}),[["__scopeId","data-v-2d0df9eb"]]);export{m as default};
