import{aS as e,aI as t,G as a,p as o,U as n,R as l,L as s,aO as i,c as r,a$ as u,A as p,az as d,s as c,y as f,aR as v,as as m,V as h,_ as g,d as x,bx as y,u as b,a as w,by as C,ah as S,ai as z,Q as k,P as E,B as F,Y as $,b as I,o as B,ae as P,J as N,X as R,n as V,e as _,r as M,h as A,i as T,ap as j,F as L,m as H,a3 as O,af as U,ac as W,at as K,$ as X,f as Y,N as D,g as G}from"./index-BpgbG9_h.js";import{U as J,c as Q,a as Z,u as q,f as ee,g as te,d as ae}from"./index-vgTml2Xy.js";const oe=()=>e&&/firefox/i.test(window.navigator.userAgent);let ne;const le=`\n  height:0 !important;\n  visibility:hidden !important;\n  ${oe()?"":"overflow:hidden !important;"}\n  position:absolute !important;\n  z-index:-1000 !important;\n  top:0 !important;\n  right:0 !important;\n`,se=["letter-spacing","line-height","padding-top","padding-bottom","font-family","font-weight","font-size","text-rendering","text-transform","width","text-indent","padding-left","padding-right","border-width","box-sizing"];function ie(e,a=1,o){var n;ne||(ne=document.createElement("textarea"),document.body.appendChild(ne));const{paddingSize:l,borderSize:s,boxSizing:i,contextStyle:r}=function(e){const t=window.getComputedStyle(e),a=t.getPropertyValue("box-sizing"),o=Number.parseFloat(t.getPropertyValue("padding-bottom"))+Number.parseFloat(t.getPropertyValue("padding-top")),n=Number.parseFloat(t.getPropertyValue("border-bottom-width"))+Number.parseFloat(t.getPropertyValue("border-top-width"));return{contextStyle:se.map((e=>`${e}:${t.getPropertyValue(e)}`)).join(";"),paddingSize:o,borderSize:n,boxSizing:a}}(e);ne.setAttribute("style",`${r};${le}`),ne.value=e.value||e.placeholder||"";let u=ne.scrollHeight;const p={};"border-box"===i?u+=s:"content-box"===i&&(u-=l),ne.value="";const d=ne.scrollHeight-l;if(t(a)){let e=d*a;"border-box"===i&&(e=e+l+s),u=Math.max(e,u),p.minHeight=`${e}px`}if(t(o)){let e=d*o;"border-box"===i&&(e=e+l+s),u=Math.min(e,u)}return p.height=`${u}px`,null==(n=ne.parentNode)||n.removeChild(ne),ne=void 0,p}const re=o({id:{type:String,default:void 0},size:i,disabled:Boolean,modelValue:{type:l([String,Number,Object]),default:""},maxlength:{type:[String,Number]},minlength:{type:[String,Number]},type:{type:String,default:"text"},resize:{type:String,values:["none","both","horizontal","vertical"]},autosize:{type:l([Boolean,Object]),default:!1},autocomplete:{type:String,default:"off"},formatter:{type:Function},parser:{type:Function},placeholder:{type:String},form:{type:String},readonly:Boolean,clearable:Boolean,showPassword:Boolean,showWordLimit:Boolean,suffixIcon:{type:s},prefixIcon:{type:s},containerRole:{type:String,default:void 0},tabindex:{type:[String,Number],default:0},validateEvent:{type:Boolean,default:!0},inputStyle:{type:l([Object,Array,String]),default:()=>n({})},autofocus:Boolean,rows:{type:Number,default:2},...Q(["ariaLabel"])}),ue={[J]:e=>a(e),input:e=>a(e),change:e=>a(e),focus:e=>e instanceof FocusEvent,blur:e=>e instanceof FocusEvent,clear:()=>!0,mouseleave:e=>e instanceof MouseEvent,mouseenter:e=>e instanceof MouseEvent,keydown:e=>e instanceof Event,compositionstart:e=>e instanceof CompositionEvent,compositionupdate:e=>e instanceof CompositionEvent,compositionend:e=>e instanceof CompositionEvent},pe=["class","style"],de=/^on[A-Z]/;function ce(e,{beforeFocus:t,afterFocus:a,beforeBlur:o,afterBlur:n}={}){const l=p(),{emit:s}=l,i=d(),r=c(!1),u=e=>{!!m(t)&&t(e)||r.value||(r.value=!0,s("focus",e),null==a||a())},h=e=>{var t;!!m(o)&&o(e)||e.relatedTarget&&(null==(t=i.value)?void 0:t.contains(e.relatedTarget))||(r.value=!1,s("blur",e),null==n||n())};return f(i,(e=>{e&&e.setAttribute("tabindex","-1")})),v(i,"focus",u,!0),v(i,"blur",h,!0),v(i,"click",(()=>{var t,a;(null==(t=i.value)?void 0:t.contains(document.activeElement))&&i.value!==document.activeElement||null==(a=e.value)||a.focus()}),!0),{isFocused:r,wrapperRef:i,handleFocus:u,handleBlur:h}}function fe({afterComposition:e,emit:t}){const a=c(!1),o=e=>{var o;null==t||t("compositionupdate",e);const n=null==(o=e.target)?void 0:o.value,l=n[n.length-1]||"";a.value=!(e=>/([\uAC00-\uD7AF\u3130-\u318F])+/gi.test(e))(l)},n=o=>{null==t||t("compositionend",o),a.value&&(a.value=!1,h((()=>e(o))))};return{isComposing:a,handleComposition:e=>{"compositionend"===e.type?n(e):o(e)},handleCompositionStart:e=>{null==t||t("compositionstart",e),a.value=!0},handleCompositionUpdate:o,handleCompositionEnd:n}}const ve=x({name:"ElInput",inheritAttrs:!1});const me=G(g(x({...ve,props:re,emits:ue,setup(t,{expose:a,emit:o}){const n=t,l=y(),s=((e={})=>{const{excludeListeners:t=!1,excludeKeys:a}=e,o=r((()=>((null==a?void 0:a.value)||[]).concat(pe))),n=p();return r(n?()=>{var e;return u(Object.entries(null==(e=n.proxy)?void 0:e.$attrs).filter((([e])=>!(o.value.includes(e)||t&&de.test(e)))))}:()=>({}))})(),i=b(),v=r((()=>["textarea"===n.type?le.b():ne.b(),ne.m(Q.value),ne.is("disabled",oe.value),ne.is("exceed",Re.value),{[ne.b("group")]:i.prepend||i.append,[ne.m("prefix")]:i.prefix||n.prefixIcon,[ne.m("suffix")]:i.suffix||n.suffixIcon||n.clearable||n.showPassword,[ne.bm("suffix","password-clear")]:Ie.value&&Be.value,[ne.b("hidden")]:"hidden"===n.type},l.class])),m=r((()=>[ne.e("wrapper"),ne.is("focus",ye.value)])),{form:g,formItem:x}=ee(),{inputId:G}=te(n,{formItemContext:x}),Q=Z(),oe=q(),ne=w("input"),le=w("textarea"),se=d(),re=d(),ue=c(!1),ve=c(!1),me=c(),he=d(n.inputStyle),ge=r((()=>se.value||re.value)),{wrapperRef:xe,isFocused:ye,handleFocus:be,handleBlur:we}=ce(ge,{beforeFocus:()=>oe.value,afterBlur(){var e;n.validateEvent&&(null==(e=null==x?void 0:x.validate)||e.call(x,"blur").catch((e=>ae())))}}),Ce=r((()=>{var e;return null!=(e=null==g?void 0:g.statusIcon)&&e})),Se=r((()=>(null==x?void 0:x.validateState)||"")),ze=r((()=>Se.value&&C[Se.value])),ke=r((()=>ve.value?S:z)),Ee=r((()=>[l.style])),Fe=r((()=>[n.inputStyle,he.value,{resize:n.resize}])),$e=r((()=>k(n.modelValue)?"":String(n.modelValue))),Ie=r((()=>n.clearable&&!oe.value&&!n.readonly&&!!$e.value&&(ye.value||ue.value))),Be=r((()=>n.showPassword&&!oe.value&&!!$e.value&&(!!$e.value||ye.value))),Pe=r((()=>n.showWordLimit&&!!n.maxlength&&("text"===n.type||"textarea"===n.type)&&!oe.value&&!n.readonly&&!n.showPassword)),Ne=r((()=>$e.value.length)),Re=r((()=>!!Pe.value&&Ne.value>Number(n.maxlength))),Ve=r((()=>!!i.suffix||!!n.suffixIcon||Ie.value||n.showPassword||Pe.value||!!Se.value&&Ce.value)),[_e,Me]=function(e){let t;return[function(){if(null==e.value)return;const{selectionStart:a,selectionEnd:o,value:n}=e.value;if(null==a||null==o)return;const l=n.slice(0,Math.max(0,a)),s=n.slice(Math.max(0,o));t={selectionStart:a,selectionEnd:o,value:n,beforeTxt:l,afterTxt:s}},function(){if(null==e.value||null==t)return;const{value:a}=e.value,{beforeTxt:o,afterTxt:n,selectionStart:l}=t;if(null==o||null==n||null==l)return;let s=a.length;if(a.endsWith(n))s=a.length-n.length;else if(a.startsWith(o))s=o.length;else{const e=o[l-1],t=a.indexOf(e,l-1);-1!==t&&(s=t+1)}e.value.setSelectionRange(s,s)}]}(se);E(re,(e=>{if(Te(),!Pe.value||"both"!==n.resize)return;const t=e[0],{width:a}=t.contentRect;me.value={right:`calc(100% - ${a+15+6}px)`}}));const Ae=()=>{const{type:t,autosize:a}=n;if(e&&"textarea"===t&&re.value)if(a){const e=D(a)?a.minRows:void 0,t=D(a)?a.maxRows:void 0,o=ie(re.value,e,t);he.value={overflowY:"hidden",...o},h((()=>{re.value.offsetHeight,he.value=o}))}else he.value={minHeight:ie(re.value).minHeight}},Te=(e=>{let t=!1;return()=>{var a;if(t||!n.autosize)return;null===(null==(a=re.value)?void 0:a.offsetParent)||(e(),t=!0)}})(Ae),je=()=>{const e=ge.value,t=n.formatter?n.formatter($e.value):$e.value;e&&e.value!==t&&(e.value=t)},Le=async e=>{_e();let{value:t}=e.target;n.formatter&&(t=n.parser?n.parser(t):t),Oe.value||(t!==$e.value?(o(J,t),o("input",t),await h(),je(),Me()):je())},He=e=>{o("change",e.target.value)},{isComposing:Oe,handleCompositionStart:Ue,handleCompositionUpdate:We,handleCompositionEnd:Ke}=fe({emit:o,afterComposition:Le}),Xe=()=>{_e(),ve.value=!ve.value,setTimeout(Me)},Ye=e=>{ue.value=!1,o("mouseleave",e)},De=e=>{ue.value=!0,o("mouseenter",e)},Ge=e=>{o("keydown",e)},Je=()=>{o(J,""),o("change",""),o("clear"),o("input","")};return f((()=>n.modelValue),(()=>{var e;h((()=>Ae())),n.validateEvent&&(null==(e=null==x?void 0:x.validate)||e.call(x,"change").catch((e=>ae())))})),f($e,(()=>je())),f((()=>n.type),(async()=>{await h(),je(),Ae()})),F((()=>{!n.formatter&&n.parser,je(),h(Ae)})),a({input:se,textarea:re,ref:ge,textareaStyle:Fe,autosize:$(n,"autosize"),isComposing:Oe,focus:()=>{var e;return null==(e=ge.value)?void 0:e.focus()},blur:()=>{var e;return null==(e=ge.value)?void 0:e.blur()},select:()=>{var e;null==(e=ge.value)||e.select()},clear:Je,resizeTextarea:Ae}),(e,t)=>(B(),I("div",{class:V([_(v),{[_(ne).bm("group","append")]:e.$slots.append,[_(ne).bm("group","prepend")]:e.$slots.prepend}]),style:Y(_(Ee)),onMouseenter:De,onMouseleave:Ye},[P(" input "),"textarea"!==e.type?(B(),I(N,{key:0},[P(" prepend slot "),e.$slots.prepend?(B(),I("div",{key:0,class:V(_(ne).be("group","prepend"))},[M(e.$slots,"prepend")],2)):P("v-if",!0),R("div",{ref_key:"wrapperRef",ref:xe,class:V(_(m))},[P(" prefix slot "),e.$slots.prefix||e.prefixIcon?(B(),I("span",{key:0,class:V(_(ne).e("prefix"))},[R("span",{class:V(_(ne).e("prefix-inner"))},[M(e.$slots,"prefix"),e.prefixIcon?(B(),A(_(L),{key:0,class:V(_(ne).e("icon"))},{default:T((()=>[(B(),A(j(e.prefixIcon)))])),_:1},8,["class"])):P("v-if",!0)],2)],2)):P("v-if",!0),R("input",H({id:_(G),ref_key:"input",ref:se,class:_(ne).e("inner")},_(s),{minlength:e.minlength,maxlength:e.maxlength,type:e.showPassword?ve.value?"text":"password":e.type,disabled:_(oe),readonly:e.readonly,autocomplete:e.autocomplete,tabindex:e.tabindex,"aria-label":e.ariaLabel,placeholder:e.placeholder,style:e.inputStyle,form:e.form,autofocus:e.autofocus,role:e.containerRole,onCompositionstart:_(Ue),onCompositionupdate:_(We),onCompositionend:_(Ke),onInput:Le,onChange:He,onKeydown:Ge}),null,16,["id","minlength","maxlength","type","disabled","readonly","autocomplete","tabindex","aria-label","placeholder","form","autofocus","role","onCompositionstart","onCompositionupdate","onCompositionend"]),P(" suffix slot "),_(Ve)?(B(),I("span",{key:1,class:V(_(ne).e("suffix"))},[R("span",{class:V(_(ne).e("suffix-inner"))},[_(Ie)&&_(Be)&&_(Pe)?P("v-if",!0):(B(),I(N,{key:0},[M(e.$slots,"suffix"),e.suffixIcon?(B(),A(_(L),{key:0,class:V(_(ne).e("icon"))},{default:T((()=>[(B(),A(j(e.suffixIcon)))])),_:1},8,["class"])):P("v-if",!0)],64)),_(Ie)?(B(),A(_(L),{key:1,class:V([_(ne).e("icon"),_(ne).e("clear")]),onMousedown:W(_(K),["prevent"]),onClick:Je},{default:T((()=>[O(_(U))])),_:1},8,["class","onMousedown"])):P("v-if",!0),_(Be)?(B(),A(_(L),{key:2,class:V([_(ne).e("icon"),_(ne).e("password")]),onClick:Xe},{default:T((()=>[(B(),A(j(_(ke))))])),_:1},8,["class"])):P("v-if",!0),_(Pe)?(B(),I("span",{key:3,class:V(_(ne).e("count"))},[R("span",{class:V(_(ne).e("count-inner"))},X(_(Ne))+" / "+X(e.maxlength),3)],2)):P("v-if",!0),_(Se)&&_(ze)&&_(Ce)?(B(),A(_(L),{key:4,class:V([_(ne).e("icon"),_(ne).e("validateIcon"),_(ne).is("loading","validating"===_(Se))])},{default:T((()=>[(B(),A(j(_(ze))))])),_:1},8,["class"])):P("v-if",!0)],2)],2)):P("v-if",!0)],2),P(" append slot "),e.$slots.append?(B(),I("div",{key:1,class:V(_(ne).be("group","append"))},[M(e.$slots,"append")],2)):P("v-if",!0)],64)):(B(),I(N,{key:1},[P(" textarea "),R("textarea",H({id:_(G),ref_key:"textarea",ref:re,class:[_(le).e("inner"),_(ne).is("focus",_(ye))]},_(s),{minlength:e.minlength,maxlength:e.maxlength,tabindex:e.tabindex,disabled:_(oe),readonly:e.readonly,autocomplete:e.autocomplete,style:_(Fe),"aria-label":e.ariaLabel,placeholder:e.placeholder,form:e.form,autofocus:e.autofocus,rows:e.rows,role:e.containerRole,onCompositionstart:_(Ue),onCompositionupdate:_(We),onCompositionend:_(Ke),onInput:Le,onFocus:_(be),onBlur:_(we),onChange:He,onKeydown:Ge}),null,16,["id","minlength","maxlength","tabindex","disabled","readonly","autocomplete","aria-label","placeholder","form","autofocus","rows","role","onCompositionstart","onCompositionupdate","onCompositionend","onFocus","onBlur"]),_(Pe)?(B(),I("span",{key:0,style:Y(me.value),class:V(_(ne).e("count"))},X(_(Ne))+" / "+X(e.maxlength),7)):P("v-if",!0)],64))],38))}}),[["__file","input.vue"]]));export{me as E,ce as a,oe as i,fe as u};
