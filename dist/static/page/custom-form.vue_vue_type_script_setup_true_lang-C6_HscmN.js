/* empty css             */import{E as e}from"./el-drawer-_L3C1oIg.js";import"./el-overlay-ghEGIsKl.js";import{E as l}from"./el-button-CghqIf1m.js";import{d as a,h as o,o as t,i as r,X as p,a3 as s,Z as n,$ as d,r as u,F as c,e as i,am as m,x as f,c as v,aa as h,B as y,W as b,b as V,J as k,a5 as C,ae as g}from"./index-BpgbG9_h.js";import{_}from"./_plugin-vue_export-helper-BCo6x5W8.js";import{E as x,a as j}from"./el-form-item-CGp8wt0Y.js";import{_ as w}from"./custom-dialog-BYISrEhD.js";import{_ as F}from"./file-panel-ClhRzc_o.js";/* empty css                          */import{a as U,E}from"./el-checkbox-DBaZw9db.js";import"./el-tag-hrDeqNMc.js";import{E as I,a as T}from"./el-select-DASP7Wfd.js";import"./el-popper-DuiXp9eT.js";/* empty css                 */import{E as B}from"./index-B5k-8-YQ.js";const O={class:"drawerHeader"},$={class:"title"},R={style:{flex:"auto"}},S=_(a({__name:"custom-drawer",props:{visible:{type:Boolean,default:!1},title:{default:""},cancelText:{default:"取消"},confirmText:{default:"确认"},loading:{type:Boolean,default:!1},onClose:{},onConfirm:{}},setup(a){const f=a;return(a,v)=>{const h=c,y=l,b=e;return t(),o(b,{"model-value":a.visible,direction:"rtl",size:"40%","show-close":!1,onClose:a.onClose},{header:r((()=>[p("div",O,[p("div",{class:"back",onClick:v[0]||(v[0]=(...e)=>a.onClose&&a.onClose(...e))},[s(h,null,{default:r((()=>[s(i(m))])),_:1}),v[1]||(v[1]=p("span",null,"返回",-1))]),p("span",$,d(f.title),1)])])),default:r((()=>[u(a.$slots,"default",{},void 0,!0)])),footer:r((()=>[p("div",R,[s(y,{style:{border:"1px solid rgb(var(--border-color-gray))",color:"var(--font-color-black)"},color:"transparent",onClick:a.onClose},{default:r((()=>[n(d(a.cancelText),1)])),_:1},8,["onClick"]),s(y,{loading:a.loading,type:"primary",onClick:a.onConfirm},{default:r((()=>[n(d(a.confirmText),1)])),_:1},8,["loading","onClick"])])])),_:3},8,["model-value","onClose"])}}}),[["__scopeId","data-v-45dbc253"]]),Z=a({__name:"custom-form",props:{data:{default:()=>({value:{},items:[]})},onInit:{}},setup(e){const a=e,p=f({instance:h("ruleFormRef"),rules:v((()=>a.data.items.reduce(((e,l)=>({...e,[l.prop]:l.rules||[]})),{}))),selectFolder:{show:!1,path:"",prop:"",open:e=>{p.selectFolder.prop=e,p.selectFolder.show=!0},confirm:()=>{a.data.value[p.selectFolder.prop]=p.selectFolder.path,p.selectFolder.show=!1}}});return y((()=>{var e;p.instance&&(null==(e=a.onInit)||e.call(a,p.instance)),a.data.items.forEach((async e=>{var l;e.asyncOptions&&(e.options=await(null==(l=e.asyncOptions)?void 0:l.call(e)))}))})),(e,a)=>{const d=B,c=T,i=I,m=E,f=U,v=b("v-s-icon"),h=j,y=F,_=l,O=w,$=x;return t(),o($,{ref:"ruleFormRef",model:e.data.value,rules:p.rules,"label-width":"auto",style:{padding:"20px"}},{default:r((()=>[(t(!0),V(k,null,C(e.data.items,((l,a)=>{var n;return t(),V(k,null,[(null==(n=l.ifShow)?void 0:n.call(l,e.data.value))??1?(t(),o(h,{key:a,label:l.label,prop:l.prop},{default:r((()=>["input"===l.type||"password"===l.type?(t(),o(d,{key:0,modelValue:e.data.value[l.prop],"onUpdate:modelValue":a=>e.data.value[l.prop]=a,type:"input"===l.type?"text":"password",placeholder:l.placeholder,clearable:"",onInput:l.change},null,8,["modelValue","onUpdate:modelValue","type","placeholder","onInput"])):"select"===l.type?(t(),o(i,{key:1,modelValue:e.data.value[l.prop],"onUpdate:modelValue":a=>e.data.value[l.prop]=a,onChange:l.change},{default:r((()=>[(t(!0),V(k,null,C(l.options,(e=>(t(),o(c,{key:e.value,label:e.label,value:e.value},null,8,["label","value"])))),128))])),_:2},1032,["modelValue","onUpdate:modelValue","onChange"])):"checkbox-group"===l.type?(t(),o(f,{key:2,modelValue:e.data.value[l.prop],"onUpdate:modelValue":a=>e.data.value[l.prop]=a,onChange:l.change},{default:r((()=>[(t(!0),V(k,null,C(l.options,(e=>(t(),o(m,{key:e.value,label:e.label,value:e.value},null,8,["label","value"])))),128))])),_:2},1032,["modelValue","onUpdate:modelValue","onChange"])):"checkbox"===l.type?(t(),o(m,{key:3,modelValue:e.data.value[l.prop],"onUpdate:modelValue":a=>e.data.value[l.prop]=a,label:l.label,onChange:l.change},null,8,["modelValue","onUpdate:modelValue","label","onChange"])):"textarea"===l.type?(t(),o(d,{key:4,modelValue:e.data.value[l.prop],"onUpdate:modelValue":a=>e.data.value[l.prop]=a,type:"textarea",placeholder:l.placeholder,onInput:l.change},null,8,["modelValue","onUpdate:modelValue","placeholder","onInput"])):"file-select"===l.type?(t(),o(d,{key:5,modelValue:e.data.value[l.prop],"onUpdate:modelValue":a=>e.data.value[l.prop]=a,placeholder:l.placeholder},{append:r((()=>[s(v,{class:"cursor-pointer",name:"folders",onClick:e=>p.selectFolder.open(l.prop)},null,8,["onClick"])])),_:2},1032,["modelValue","onUpdate:modelValue","placeholder"])):"custom"===l.type?u(e.$slots,l.prop,{key:6,row:l}):g("",!0)])),_:2},1032,["label","prop"])):g("",!0)],64)})),256)),s(O,{modelValue:p.selectFolder.show,"onUpdate:modelValue":a[1]||(a[1]=e=>p.selectFolder.show=e),title:"选择文件夹"},{footer:r((()=>[s(_,{type:"primary",onClick:p.selectFolder.confirm},{default:r((()=>a[2]||(a[2]=[n("确定")]))),_:1},8,["onClick"])])),default:r((()=>[s(y,{onSelect:a[0]||(a[0]=e=>p.selectFolder.path=e)})])),_:1},8,["modelValue"])])),_:3},8,["model","rules"])}}});export{Z as _,S as a};
