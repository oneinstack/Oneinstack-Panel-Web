/* empty css             */import{E as e}from"./el-drawer-BeOw-O7q.js";import"./el-overlay-DfJ2upq2.js";/* empty css                  */import{d as l,h as a,o,i as t,X as r,a3 as p,Z as s,$ as n,r as d,F as u,e as c,an as i,x as m,c as f,ab as v,B as h,W as y,b,J as V,a5 as k,a4 as g}from"./index-B5c3jFiu.js";import{E as C}from"./index-CY3iw2TW.js";import{_}from"./_plugin-vue_export-helper-BCo6x5W8.js";import{E as x,a as j}from"./el-form-item-ey1Wr8cE.js";import{_ as w}from"./custom-dialog-C2QYRSKW.js";import{_ as F}from"./file-panel-w5NTE3Ff.js";/* empty css                          */import{a as U,E}from"./el-checkbox-WLPkjpqU.js";import"./el-tag-Dxm_Axr8.js";import{E as I,a as T}from"./el-select-Bf0uoiH2.js";import"./el-popper-ClYUeexH.js";/* empty css                 */import{E as B}from"./index-FXwX-Tc-.js";const O={class:"drawerHeader"},$={class:"title"},R={style:{flex:"auto"}},S=_(l({__name:"custom-drawer",props:{visible:{type:Boolean,default:!1},title:{default:""},cancelText:{default:"取消"},confirmText:{default:"确认"},loading:{type:Boolean,default:!1},onClose:{},onConfirm:{}},setup(l){const m=l;return(l,f)=>{const v=u,h=C,y=e;return o(),a(y,{"model-value":l.visible,direction:"rtl",size:"40%","show-close":!1,onClose:l.onClose},{header:t((()=>[r("div",O,[r("div",{class:"back",onClick:f[0]||(f[0]=(...e)=>l.onClose&&l.onClose(...e))},[p(v,null,{default:t((()=>[p(c(i))])),_:1}),f[1]||(f[1]=r("span",null,"返回",-1))]),r("span",$,n(m.title),1)])])),default:t((()=>[d(l.$slots,"default",{},void 0,!0)])),footer:t((()=>[r("div",R,[p(h,{style:{border:"1px solid rgb(var(--border-color-gray))",color:"var(--font-color-black)"},color:"transparent",onClick:l.onClose},{default:t((()=>[s(n(l.cancelText),1)])),_:1},8,["onClick"]),p(h,{loading:l.loading,type:"primary",onClick:l.onConfirm},{default:t((()=>[s(n(l.confirmText),1)])),_:1},8,["loading","onClick"])])])),_:3},8,["model-value","onClose"])}}}),[["__scopeId","data-v-45dbc253"]]),X=l({__name:"custom-form",props:{data:{default:()=>({value:{},items:[]})},onInit:{}},setup(e){const l=e,r=m({instance:v("ruleFormRef"),rules:f((()=>l.data.items.reduce(((e,l)=>({...e,[l.prop]:l.rules||[]})),{}))),selectFolder:{show:!1,path:"",prop:"",open:e=>{r.selectFolder.prop=e,r.selectFolder.show=!0},confirm:()=>{l.data.value[r.selectFolder.prop]=r.selectFolder.path,r.selectFolder.show=!1}}});return h((()=>{var e;r.instance&&(null==(e=l.onInit)||e.call(l,r.instance)),l.data.items.forEach((async e=>{var l;e.asyncOptions&&(e.options=await(null==(l=e.asyncOptions)?void 0:l.call(e)))}))})),(e,l)=>{const n=B,u=T,c=I,i=E,m=U,f=y("v-s-icon"),v=j,h=F,_=C,O=w,$=x;return o(),a($,{ref:"ruleFormRef",model:e.data.value,rules:r.rules,"label-width":"auto",style:{padding:"20px"}},{default:t((()=>[(o(!0),b(V,null,k(e.data.items,((l,s)=>{var h;return o(),b(V,null,[(null==(h=l.ifShow)?void 0:h.call(l,e.data.value))??1?(o(),a(v,{key:s,label:l.label,prop:l.prop},{default:t((()=>["input"===l.type||"password"===l.type?(o(),a(n,{key:0,modelValue:e.data.value[l.prop],"onUpdate:modelValue":a=>e.data.value[l.prop]=a,type:"input"===l.type?"text":"password",placeholder:l.placeholder,clearable:"",onInput:l.change},null,8,["modelValue","onUpdate:modelValue","type","placeholder","onInput"])):"select"===l.type?(o(),a(c,{key:1,modelValue:e.data.value[l.prop],"onUpdate:modelValue":a=>e.data.value[l.prop]=a,onChange:l.change},{default:t((()=>[(o(!0),b(V,null,k(l.options,(e=>(o(),a(u,{key:e.value,label:e.label,value:e.value},null,8,["label","value"])))),128))])),_:2},1032,["modelValue","onUpdate:modelValue","onChange"])):"checkbox-group"===l.type?(o(),a(m,{key:2,modelValue:e.data.value[l.prop],"onUpdate:modelValue":a=>e.data.value[l.prop]=a,onChange:l.change},{default:t((()=>[(o(!0),b(V,null,k(l.options,(e=>(o(),a(i,{key:e.value,label:e.label,value:e.value},null,8,["label","value"])))),128))])),_:2},1032,["modelValue","onUpdate:modelValue","onChange"])):"checkbox"===l.type?(o(),a(i,{key:3,modelValue:e.data.value[l.prop],"onUpdate:modelValue":a=>e.data.value[l.prop]=a,label:l.label,onChange:l.change},null,8,["modelValue","onUpdate:modelValue","label","onChange"])):"textarea"===l.type?(o(),a(n,{key:4,modelValue:e.data.value[l.prop],"onUpdate:modelValue":a=>e.data.value[l.prop]=a,type:"textarea",placeholder:l.placeholder,onInput:l.change},null,8,["modelValue","onUpdate:modelValue","placeholder","onInput"])):"file-select"===l.type?(o(),a(n,{key:5,modelValue:e.data.value[l.prop],"onUpdate:modelValue":a=>e.data.value[l.prop]=a,placeholder:l.placeholder},{append:t((()=>[p(f,{class:"cursor-pointer",name:"folders",onClick:e=>r.selectFolder.open(l.prop)},null,8,["onClick"])])),_:2},1032,["modelValue","onUpdate:modelValue","placeholder"])):"custom"===l.type?d(e.$slots,l.prop,{key:6,row:l}):g("",!0)])),_:2},1032,["label","prop"])):g("",!0)],64)})),256)),p(O,{modelValue:r.selectFolder.show,"onUpdate:modelValue":l[1]||(l[1]=e=>r.selectFolder.show=e),title:"选择文件夹"},{footer:t((()=>[p(_,{type:"primary",onClick:r.selectFolder.confirm},{default:t((()=>l[2]||(l[2]=[s("确定")]))),_:1},8,["onClick"])])),default:t((()=>[p(h,{onSelect:l[0]||(l[0]=e=>r.selectFolder.path=e)})])),_:1},8,["modelValue"])])),_:3},8,["model","rules"])}}});export{X as _,S as a};
