import{au as o,d as e,p as t,a as s,a3 as n,D as a,r as u,R as d,aM as l,c,aO as r,k as i,y as m,bu as p,bv as y,j as v,l as f}from"./index-B5c3jFiu.js";import{P as b}from"./vnode-wHVxG6yF.js";import{t as x}from"./index-DwJjVrn6.js";import{g as M}from"./scroll-CGLW73hp.js";const k=e=>{if(!e)return{onClick:o,onMousedown:o,onMouseup:o};let t=!1,s=!1;return{onClick:o=>{t&&s&&e(o),t=s=!1},onMousedown:o=>{t=o.target===o.currentTarget},onMouseup:o=>{s=o.target===o.currentTarget}}},g=t({mask:{type:Boolean,default:!0},customMaskEvent:Boolean,overlayClass:{type:d([String,Array,Object])},zIndex:{type:d([String,Number])}});const w=e({name:"ElOverlay",props:g,emits:{click:o=>o instanceof MouseEvent},setup(o,{slots:e,emit:t}){const d=s("overlay"),{onClick:l,onMousedown:c,onMouseup:r}=k(o.customMaskEvent?void 0:o=>{t("click",o)});return()=>o.mask?n("div",{class:[d.b(),o.overlayClass],style:{zIndex:o.zIndex},onClick:l,onMousedown:c,onMouseup:r},[u(e,"default")],b.STYLE|b.CLASS|b.PROPS,["onClick","onMouseup","onMousedown"]):a("div",{class:o.overlayClass,style:{zIndex:o.zIndex,position:"fixed",top:"0px",right:"0px",bottom:"0px",left:"0px"}},[u(e,"default")])}}),C=(o,e={})=>{l(o)||x("[useLockscreen]","You need to pass a ref param to this function");const t=e.ns||s("popup"),n=c((()=>t.bm("parent","hidden")));if(!r||i(document.body,n.value))return;let a=0,u=!1,d="0";const b=()=>{setTimeout((()=>{"undefined"!=typeof document&&(f(null==document?void 0:document.body,n.value),u&&document&&(document.body.style.width=d))}),200)};m(o,(o=>{if(!o)return void b();u=!i(document.body,n.value),u&&(d=document.body.style.width),a=M(t.namespace.value);const e=document.documentElement.clientHeight<document.body.scrollHeight,s=y(document.body,"overflowY");a>0&&(e||"scroll"===s)&&u&&(document.body.style.width=`calc(100% - ${a}px)`),v(document.body,n.value)})),p((()=>b()))};export{w as E,k as a,C as u};
